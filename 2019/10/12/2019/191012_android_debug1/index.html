<!-- build time:Sun Mar 08 2020 19:48:43 GMT+0800 (CST) --><!DOCTYPE html><html><head><meta charset="utf-8"><link rel="canonical" href="true/2019/10/12/2019/191012_android_debug1/"><title>Android Graphics 调试技巧（十月份更新） | sunwengang blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#3F51B5"><meta name="keywords" content="graphics"><meta name="description" content="readelf命令查看ELF格式的文件信息常见的文件比如动态库(*.so)、静态库（*.a），常用命令：readelf -a libgui.so | grep test_string"><meta property="og:type" content="article"><meta property="og:title" content="Android Graphics 调试技巧（十月份更新）"><meta property="og:url" content="http://wizzie.top/2019/10/12/2019/191012_android_debug1/index.html"><meta property="og:site_name" content="sunwengang blog"><meta property="og:description" content="readelf命令查看ELF格式的文件信息常见的文件比如动态库(*.so)、静态库（*.a），常用命令：readelf -a libgui.so | grep test_string"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2019-10-12T15:52:00.000Z"><meta property="article:modified_time" content="2020-03-08T10:17:34.591Z"><meta property="article:author" content="sunwengang"><meta property="article:tag" content="graphics"><meta name="twitter:card" content="summary"><link rel="alternate" type="application/atom+xml" title="sunwengang blog" href="/atom.xml"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/style.css?v=1.7.2"><script>window.lazyScripts=[]</script><meta name="generator" content="Hexo 4.2.0"></head><body><div id="loading" class="active"></div><aside id="menu" class="hide"><div class="inner flex-row-vertical"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off"><i class="icon icon-lg icon-close"></i></a><div class="brand-wrap" style="background-image:url(/img/brand.jpg)"><div class="brand"><a href="/" class="avatar waves-effect waves-circle waves-light"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/img/avatar.jpg"></a><hgroup class="introduce"><h5 class="nickname">sunwengang</h5><a href="mailto:1332963488@qq.com" title="1332963488@qq.com" class="mail">1332963488@qq.com</a></hgroup></div></div><div class="scroll-wrap flex-col"><ul class="nav"><li class="waves-block waves-effect"><a href="/"><i class="icon icon-lg icon-home"></i> Home</a></li><li class="waves-block waves-effect"><a href="/archives"><i class="icon icon-lg icon-archives"></i> Archives</a></li><li class="waves-block waves-effect"><a href="/tags"><i class="icon icon-lg icon-tags"></i> Tags</a></li><li class="waves-block waves-effect"><a href="/categories"><i class="icon icon-lg icon-th-list"></i> Categories</a></li><li class="waves-block waves-effect"><a href="https://www.cnblogs.com/1996swg" target="_blank"><i class="icon icon-lg icon-book"></i> cnblog</a></li><li class="waves-block waves-effect"><a href="https://github.com/AloneAlive" target="_blank"><i class="icon icon-lg icon-github"></i> Github</a></li><li class="waves-block waves-effect"><a href="/html/nav.html" target="_blank"><i class="icon icon-lg icon-external-link-square"></i> nav</a></li><li class="waves-block waves-effect"><a href="/others"><i class="icon icon-lg icon-address-book"></i> friends</a></li></ul></div></div></aside><main id="main"><header class="top-header" id="header"><div class="flex-row"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle"><i class="icon icon-lg icon-navicon"></i></a><div class="flex-col header-title ellipsis">Android Graphics 调试技巧（十月份更新）</div><div class="search-wrap" id="search-wrap"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back"><i class="icon icon-lg icon-chevron-left"></i> </a><input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search"><i class="icon icon-lg icon-search"></i></a></div></div></header><header class="content-header post-header"><div class="container fade-scale"><h1 class="title">Android Graphics 调试技巧（十月份更新）</h1><h5 class="subtitle"><time datetime="2019-10-12T15:52:00.000Z" itemprop="datePublished" class="page-time">2019-10-12</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/android/">android</a></li></ul></h5></div></header><div class="container body-wrap"><aside class="post-widget"><nav class="post-toc-wrap post-toc-shrink" id="post-toc"><h4>TOC</h4><ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#readelf命令查看ELF格式的文件信息"><span class="post-toc-number">1.</span> <span class="post-toc-text">readelf命令查看ELF格式的文件信息</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#查看手机内存"><span class="post-toc-number">2.</span> <span class="post-toc-text">查看手机内存</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#adb-logcat缓存管理"><span class="post-toc-number">3.</span> <span class="post-toc-text">adb logcat缓存管理</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#linux离线翻译工具sdcv"><span class="post-toc-number">4.</span> <span class="post-toc-text">linux离线翻译工具sdcv</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#apt-get命令列出版本号"><span class="post-toc-number">5.</span> <span class="post-toc-text">apt-get命令列出版本号</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Linux安装tar-xz软件包"><span class="post-toc-number">6.</span> <span class="post-toc-text">Linux安装tar.xz软件包</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JNI的jlong类型打印"><span class="post-toc-number">7.</span> <span class="post-toc-text">JNI的jlong类型打印</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#monkey测试"><span class="post-toc-number">8.</span> <span class="post-toc-text">monkey测试</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#指令参数"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">指令参数</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#示例"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">示例</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#停止monkey测试"><span class="post-toc-number">8.3.</span> <span class="post-toc-text">停止monkey测试</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#重现monkey测出的bug"><span class="post-toc-number">8.4.</span> <span class="post-toc-text">重现monkey测出的bug</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#dump-meminfo"><span class="post-toc-number">9.</span> <span class="post-toc-text">dump meminfo</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#kernel使用printk调试"><span class="post-toc-number">10.</span> <span class="post-toc-text">kernel使用printk调试</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#查看设别是否支持Project-Teable"><span class="post-toc-number">11.</span> <span class="post-toc-text">查看设别是否支持Project Teable</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#查看cpu架构"><span class="post-toc-number">12.</span> <span class="post-toc-text">查看cpu架构</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Service服务命令"><span class="post-toc-number">13.</span> <span class="post-toc-text">Service服务命令</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#测试CtsMediaTestCases需要CTS媒体文件（连接外网）"><span class="post-toc-number">14.</span> <span class="post-toc-text">测试CtsMediaTestCases需要CTS媒体文件（连接外网）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#当前活动Activiy"><span class="post-toc-number">15.</span> <span class="post-toc-text">当前活动Activiy</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#获取当前ACTIVITY"><span class="post-toc-number">15.1.</span> <span class="post-toc-text">获取当前ACTIVITY</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#命令启动指定Activity"><span class="post-toc-number">15.2.</span> <span class="post-toc-text">命令启动指定Activity</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Android-SDK抓取systrace"><span class="post-toc-number">16.</span> <span class="post-toc-text">Android SDK抓取systrace</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#打开模拟Vsync，从Systrace查看到"><span class="post-toc-number">16.1.</span> <span class="post-toc-text">打开模拟Vsync，从Systrace查看到</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#adb-devices很少识别"><span class="post-toc-number">17.</span> <span class="post-toc-text">adb devices很少识别</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#添加usb设备自动识别信息-etc-udev-rules-d"><span class="post-toc-number">17.1.</span> <span class="post-toc-text">添加usb设备自动识别信息&#x2F;etc&#x2F;udev&#x2F;rules.d&#x2F;</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#adb-shell获取设备信息参数（序列号）"><span class="post-toc-number">18.</span> <span class="post-toc-text">adb shell获取设备信息参数（序列号）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Android中CPU频率查看和修改"><span class="post-toc-number">19.</span> <span class="post-toc-text">Android中CPU频率查看和修改</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Ubuntu下载更新杀毒软件"><span class="post-toc-number">20.</span> <span class="post-toc-text">Ubuntu下载更新杀毒软件</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#安装deb包"><span class="post-toc-number">21.</span> <span class="post-toc-text">安装deb包</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#查看手机服务"><span class="post-toc-number">22.</span> <span class="post-toc-text">查看手机服务</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#查看修改屏幕分辨率和密度"><span class="post-toc-number">23.</span> <span class="post-toc-text">查看修改屏幕分辨率和密度</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#查看进程map虚拟地址"><span class="post-toc-number">24.</span> <span class="post-toc-text">查看进程map虚拟地址</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#SELinux模式开启关闭"><span class="post-toc-number">25.</span> <span class="post-toc-text">SELinux模式开启关闭</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#adb命令-–-录制手机视频"><span class="post-toc-number">26.</span> <span class="post-toc-text">adb命令 – 录制手机视频</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#adb命令-–-截图"><span class="post-toc-number">27.</span> <span class="post-toc-text">adb命令 – 截图</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#adb命令-–-输入文本"><span class="post-toc-number">28.</span> <span class="post-toc-text">adb命令 – 输入文本</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#adb命令-–-获取APP路径"><span class="post-toc-number">29.</span> <span class="post-toc-text">adb命令 – 获取APP路径</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#台式机通过WIFI建立adb连接，实现无线连接手机"><span class="post-toc-number">30.</span> <span class="post-toc-text">台式机通过WIFI建立adb连接，实现无线连接手机</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#连接DP继续dump-SurfaceFlinger的方法"><span class="post-toc-number">31.</span> <span class="post-toc-text">连接DP继续dump SurfaceFlinger的方法</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#md5sum命令检测文件"><span class="post-toc-number">32.</span> <span class="post-toc-text">md5sum命令检测文件</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#GSI含义"><span class="post-toc-number">33.</span> <span class="post-toc-text">GSI含义</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#GSI方法"><span class="post-toc-number">33.1.</span> <span class="post-toc-text">GSI方法</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#CTS-VTS跑测注意点"><span class="post-toc-number">34.</span> <span class="post-toc-text">CTS VTS跑测注意点</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#linxu命令查找命令"><span class="post-toc-number">35.</span> <span class="post-toc-text">linxu命令查找命令</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#查找字符串"><span class="post-toc-number">35.1.</span> <span class="post-toc-text">查找字符串</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#查找文件"><span class="post-toc-number">35.2.</span> <span class="post-toc-text">查找文件</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Git命令"><span class="post-toc-number">36.</span> <span class="post-toc-text">Git命令</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#git-stash暂时储藏"><span class="post-toc-number">37.</span> <span class="post-toc-text">git stash暂时储藏</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Repo下载项目方法"><span class="post-toc-number">38.</span> <span class="post-toc-text">Repo下载项目方法</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Android常用编译方式"><span class="post-toc-number">39.</span> <span class="post-toc-text">Android常用编译方式</span></a></li></ol></nav></aside><article id="post-2019/191012_android_debug1" class="post-article article-type-post fade" itemprop="blogPost"><div class="post-card"><h1 class="post-card-title">Android Graphics 调试技巧（十月份更新）</h1><div class="post-meta"><time class="post-time" title="2019-10-12 23:52:00" datetime="2019-10-12T15:52:00.000Z" itemprop="datePublished">2019-10-12</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/android/">android</a></li></ul><span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none"><i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span></span></div><div class="post-content" id="post-content" itemprop="postContent"><h2 id="readelf命令查看ELF格式的文件信息"><a href="#readelf命令查看ELF格式的文件信息" class="headerlink" title="readelf命令查看ELF格式的文件信息"></a>readelf命令查看ELF格式的文件信息</h2><p>常见的文件比如动态库(<code>*.so</code>)、静态库（<code>*.a</code>），常用命令：<code>readelf -a libgui.so | grep test_string</code></p><a id="more"></a><h2 id="查看手机内存"><a href="#查看手机内存" class="headerlink" title="查看手机内存"></a>查看手机内存</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br><span class="line">cat proc/meminfo</span><br><span class="line"></span><br><span class="line">MemTotal:        7821184 kB</span><br><span class="line">MemFree:          157484 kB</span><br><span class="line">MemAvailable:    2765976 kB</span><br><span class="line">Buffers:          175624 kB</span><br><span class="line">Cached:          2264796 kB</span><br><span class="line">......</span><br></pre></td></tr></table></figure><h2 id="adb-logcat缓存管理"><a href="#adb-logcat缓存管理" class="headerlink" title="adb logcat缓存管理"></a>adb logcat缓存管理</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">adb root;adb remount</span><br><span class="line"></span><br><span class="line">清除缓存  adb logcat -c</span><br><span class="line"></span><br><span class="line">如果不能清除，就指定区域清除  adb logcat -c main&#x2F;system&#x2F;event&#x2F;kernel&#x2F;all(日志缓冲区)</span><br><span class="line"></span><br><span class="line">查看缓存  adb logcat -g</span><br><span class="line">设置最大logcat缓存   adb logcat -G 100M</span><br></pre></td></tr></table></figure><h2 id="linux离线翻译工具sdcv"><a href="#linux离线翻译工具sdcv" class="headerlink" title="linux离线翻译工具sdcv"></a>linux离线翻译工具<code>sdcv</code></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">安装：</span><br><span class="line">sudo apt-get install sdcv</span><br><span class="line"></span><br><span class="line">使用：</span><br><span class="line">sdcv</span><br><span class="line"></span><br><span class="line">只能翻译单词</span><br></pre></td></tr></table></figure><h2 id="apt-get命令列出版本号"><a href="#apt-get命令列出版本号" class="headerlink" title="apt-get命令列出版本号"></a>apt-get命令列出版本号</h2><p><code>sudo apt-cache madison openssh-client</code></p><h2 id="Linux安装tar-xz软件包"><a href="#Linux安装tar-xz软件包" class="headerlink" title="Linux安装tar.xz软件包"></a>Linux安装tar.xz软件包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">在linux下(node.js)：</span><br><span class="line">解压后将bin目录的命令全局，建立软链接：</span><br><span class="line">sudo ln -s &#x2F;node-v10.16.0-linux-x64&#x2F;bin&#x2F;node &#x2F;usr&#x2F;local&#x2F;bin&#x2F;node</span><br><span class="line">sudo ln -s &#x2F;node-v10.16.0-linux-x64&#x2F;bin&#x2F;npm &#x2F;usr&#x2F;local&#x2F;bin&#x2F;npm</span><br></pre></td></tr></table></figure><h2 id="JNI的jlong类型打印"><a href="#JNI的jlong类型打印" class="headerlink" title="JNI的jlong类型打印"></a>JNI的jlong类型打印</h2><p>不使用%lld和%ld，而是先将其转换成long，然后%ld打印。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALOGD(<span class="string">"Mylog: JNI destroySurface nativeObject=%ld"</span>, (<span class="keyword">long</span>)nativeObject);</span><br></pre></td></tr></table></figure><hr><h2 id="monkey测试"><a href="#monkey测试" class="headerlink" title="monkey测试"></a>monkey测试</h2><h3 id="指令参数"><a href="#指令参数" class="headerlink" title="指令参数"></a>指令参数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey help查看帮助</span><br><span class="line"></span><br><span class="line">-p 指定包名</span><br><span class="line">-v log详细程度（最高支持-v -v -v）</span><br><span class="line">-s 种子（指定后，同一个命令在任意时间地点的执行顺序相同）</span><br><span class="line">--throttle 单步延时（每步操作间隔，单位ms），如果不知定系统会尽快的发送事件序列</span><br><span class="line">--kill-process-offer-error 出错是杀掉进程</span><br><span class="line">--ignore-timeouts 忽略超时错误(程序未响应)，不会应ANR而停止</span><br><span class="line">--ignore-security-exceptions 忽略证书或认证异常 </span><br><span class="line">--hprof 测试前后会生成app内存快照文件（一般在&#x2F;data&#x2F;misc目录下生成hprof文件，可以使用Android Studio查看）</span><br><span class="line">--ignore-crashes 忽略crash，不会因crash而停止</span><br><span class="line">--ignore-native-crashes 忽略native代码发生的crash崩溃，不会因此停止</span><br><span class="line">--monitor-native-crashes 监视native代码发生的崩溃</span><br></pre></td></tr></table></figure><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>(1) adb shell monkey -p PackageName -v -v -v -s 12 –throttle 500 1000 &gt; monkey.txt<br>随机数种子是12，log详细程度最高，单步延时500ms，总执行1000步，日志输出到monkey.txt</p><p>(2) adb shell monkey -p PackageName –throttle 200 –ignore-security-exceptions -v 100000000</p><p>(3) adb shell monkey -p PackageName –throttle 200 –ignore-crashes –ignore-timeouts –ignore-security-exceptions –ignore-native-crashes –monitor-native-crashes -v -v -v 1000000 &gt; monkeylog.txt</p><p>(4) 不指定包：<br>adb -s DeviceID shell monkey –throttle 200 –ignore-crashes –ignore-timeouts –ignore-security-exceptions –ignore-native-crashes –monitor-native-crashes –ignore-security-exceptions -v -v -v 100 &gt; monkeylog.txt</p><p>(5) 正常测试验证问题使用（不忽略crash,压力测试，所以不指定间隔时间）：<br>adb -s DeviceID shell monkey -p PackageName –throttle 200 –ignore-security-exceptions -v 100000000 &gt; monkeyLog.txt</p><h3 id="停止monkey测试"><a href="#停止monkey测试" class="headerlink" title="停止monkey测试"></a>停止monkey测试</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(1) ps -A|grep monkey</span><br><span class="line">(2) kill pid（11111）</span><br></pre></td></tr></table></figure><h3 id="重现monkey测出的bug"><a href="#重现monkey测出的bug" class="headerlink" title="重现monkey测出的bug"></a>重现monkey测出的bug</h3><p>monkey日志搜索<code>ANR exception</code>，将之前的事件重新操作。尤其是seed值要一样，如<code>monkey -p PackageName -v seed(-s) 100(seed的值) 500(随机时间次数)</code></p><hr><h2 id="dump-meminfo"><a href="#dump-meminfo" class="headerlink" title="dump meminfo"></a>dump meminfo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys meminfo</span><br><span class="line">或者具体包</span><br><span class="line">adb shell dumpsys meminfo packageName</span><br></pre></td></tr></table></figure><h2 id="kernel使用printk调试"><a href="#kernel使用printk调试" class="headerlink" title="kernel使用printk调试"></a>kernel使用printk调试</h2><ul><li>打印调试log</li></ul><p><code>printk(&quot;%d&quot;,intA);</code></p><ul><li>打印变量所占内存大小</li></ul><p><code>printk(&quot;sizeof(*intA)=%d&quot;,sizeof(*intA);</code></p><h2 id="查看设别是否支持Project-Teable"><a href="#查看设别是否支持Project-Teable" class="headerlink" title="查看设别是否支持Project Teable"></a>查看设别是否支持Project Teable</h2><p>Project Treble是在最新的Android上应用兼容的芯片驱动，加快最新系统适配的速度。</p><p><code>adb shell getprop ro.treble.enabled</code></p><h2 id="查看cpu架构"><a href="#查看cpu架构" class="headerlink" title="查看cpu架构"></a>查看cpu架构</h2><p><code>adb shell getprop ro.product.cpu.abi</code></p><h2 id="Service服务命令"><a href="#Service服务命令" class="headerlink" title="Service服务命令"></a>Service服务命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">服务列表：    adb shell service list</span><br><span class="line">检测某服务是否存在：   adb shell service check SurfaceFlinger</span><br></pre></td></tr></table></figure><h2 id="测试CtsMediaTestCases需要CTS媒体文件（连接外网）"><a href="#测试CtsMediaTestCases需要CTS媒体文件（连接外网）" class="headerlink" title="测试CtsMediaTestCases需要CTS媒体文件（连接外网）"></a>测试CtsMediaTestCases需要CTS媒体文件（连接外网）</h2><p>Google官网下载，例如CTS媒体文件1.4，解压后阅读README文件，按照提示copy文件到device。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">chmod 544 copy_media.sh</span><br><span class="line">.&#x2F;copy_media.sh</span><br><span class="line">chmod 544 copy_images.sh</span><br><span class="line">.&#x2F;copy_images.sh</span><br><span class="line"></span><br><span class="line">例如：run cts-dev --module CtsMediaTestCases --compatibility:module-arg CtsMediaTestCases:include-annotation:android.platform.test.annotations.RequiresDevice</span><br></pre></td></tr></table></figure><hr><h2 id="当前活动Activiy"><a href="#当前活动Activiy" class="headerlink" title="当前活动Activiy"></a>当前活动Activiy</h2><h3 id="获取当前ACTIVITY"><a href="#获取当前ACTIVITY" class="headerlink" title="获取当前ACTIVITY"></a>获取当前ACTIVITY</h3><p><code>adb shell dumpsys activity top|grep ACTIVITY</code></p><h3 id="命令启动指定Activity"><a href="#命令启动指定Activity" class="headerlink" title="命令启动指定Activity"></a>命令启动指定Activity</h3><p><code>adb shell am start -n ActivityName</code></p><hr><h2 id="Android-SDK抓取systrace"><a href="#Android-SDK抓取systrace" class="headerlink" title="Android SDK抓取systrace"></a>Android SDK抓取systrace</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">进入Android&#x2F;Sdk&#x2F;platform-tools&#x2F;systrace目录下</span><br><span class="line">python  systrace.py -b 8000 -t 5 -o systrace.html</span><br></pre></td></tr></table></figure><h3 id="打开模拟Vsync，从Systrace查看到"><a href="#打开模拟Vsync，从Systrace查看到" class="headerlink" title="打开模拟Vsync，从Systrace查看到"></a>打开模拟Vsync，从Systrace查看到</h3><ul><li>源码： Android 10的AOSP</li><li>方法： 修改<code>surfaceflinger/Scheduler/DispSync.cpp</code>的<code>static const bool kEnableZeroPhaseTracer = false;</code>为True</li></ul><h2 id="adb-devices很少识别"><a href="#adb-devices很少识别" class="headerlink" title="adb devices很少识别"></a>adb devices很少识别</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">方法一：</span><br><span class="line">lsusb  查看usb是否识别到手机</span><br><span class="line">如果没有，检查“开发者选项 -&gt; USB调试”是否打开</span><br><span class="line"></span><br><span class="line">方法二： 重启ADB服务</span><br><span class="line">adb kill-server</span><br><span class="line">adb start-server</span><br></pre></td></tr></table></figure><h3 id="添加usb设备自动识别信息-etc-udev-rules-d"><a href="#添加usb设备自动识别信息-etc-udev-rules-d" class="headerlink" title="添加usb设备自动识别信息/etc/udev/rules.d/"></a>添加usb设备自动识别信息/etc/udev/rules.d/</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">（1）lsusb查看usb链接设备</span><br><span class="line">（2）然后编辑&#x2F;新增文件(&#x2F;etc&#x2F;udev&#x2F;rules.d&#x2F;)：</span><br><span class="line">sudo vi 51-android.rules 文件内容：</span><br><span class="line">SUBSYSTEM&#x3D;&#x3D;&quot;usb&quot;,ATTRS&#123;idVendor&#125;&#x3D;&#x3D;&quot;093a&quot;,ATTRS&#123;idProduct&#125;&#x3D;&#x3D;&quot;120d&quot;,MODE&#x3D;&quot;0666&quot;</span><br><span class="line">（3）保存后重启udev服务</span><br><span class="line">sudo &#x2F;etc&#x2F;init.d&#x2F;udev restart或者sudo service udev restart</span><br><span class="line">（4）重新连接设备测试</span><br></pre></td></tr></table></figure><h2 id="adb-shell获取设备信息参数（序列号）"><a href="#adb-shell获取设备信息参数（序列号）" class="headerlink" title="adb shell获取设备信息参数（序列号）"></a>adb shell获取设备信息参数（序列号）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">getprop 查看机器的全部信息参数</span><br><span class="line">getprop ro.serialno 查看机器的序列号</span><br><span class="line">getprop ro.carrier 查看机器的CID号</span><br><span class="line">getprop ro.hardware 查看机器板子代号</span><br><span class="line">getprop ro.bootloader 查看SPL(Hboot)版本号</span><br><span class="line">getprop ro.build.version.release 查看系统版本（8、9...）</span><br><span class="line">getprop ro.build.display.id  获得厂商系统版本</span><br></pre></td></tr></table></figure><h2 id="Android中CPU频率查看和修改"><a href="#Android中CPU频率查看和修改" class="headerlink" title="Android中CPU频率查看和修改"></a>Android中CPU频率查看和修改</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root权限（直接输入su命令）</span><br><span class="line">cd sys&#x2F;devices&#x2F;system&#x2F;cpu&#x2F;cpu0&#x2F;cpufreq</span><br><span class="line">ls文件如下</span><br><span class="line"></span><br><span class="line">cpuinfo_cur_freq： 当前cpu正在运行的工作频率</span><br><span class="line">cpuinfo_max_freq：该文件指定了处理器能够运行的最高工作频率 （单位: 千赫兹）</span><br><span class="line">cpuinfo_min_freq ：该文件指定了处理器能够运行的最低工作频率 （单位: 千赫兹）</span><br></pre></td></tr></table></figure><h2 id="Ubuntu下载更新杀毒软件"><a href="#Ubuntu下载更新杀毒软件" class="headerlink" title="Ubuntu下载更新杀毒软件"></a>Ubuntu下载更新杀毒软件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">下载：</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install clamav</span><br><span class="line"></span><br><span class="line">sudo chmod 777 freshclam.lg</span><br><span class="line">freshclamg更新</span><br><span class="line"></span><br><span class="line">扫描：</span><br><span class="line">clamav -a &#x2F;</span><br></pre></td></tr></table></figure><h2 id="安装deb包"><a href="#安装deb包" class="headerlink" title="安装deb包"></a>安装deb包</h2><blockquote><p>sudo dpkg -i gapid-1.3.1-linux.deb</p></blockquote><h2 id="查看手机服务"><a href="#查看手机服务" class="headerlink" title="查看手机服务"></a>查看手机服务</h2><blockquote><p>开发者选项 -&gt; Running services可以查看正在运行的服务，以及运行内存情况</p></blockquote><h2 id="查看修改屏幕分辨率和密度"><a href="#查看修改屏幕分辨率和密度" class="headerlink" title="查看修改屏幕分辨率和密度"></a>查看修改屏幕分辨率和密度</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">查看：</span><br><span class="line">adb shell</span><br><span class="line">wm   size  获得手机当前分辨率</span><br><span class="line">wm  density   获得手机当前屏幕密度（例如560dpi）</span><br><span class="line"></span><br><span class="line">修改：</span><br><span class="line">wm size 1096*2560</span><br><span class="line">wm density 420</span><br><span class="line"></span><br><span class="line">恢复：</span><br><span class="line">wm size reset</span><br><span class="line">wm density reset</span><br></pre></td></tr></table></figure><h2 id="查看进程map虚拟地址"><a href="#查看进程map虚拟地址" class="headerlink" title="查看进程map虚拟地址"></a>查看进程map虚拟地址</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">adb root;adb remount</span><br><span class="line">adb shell  </span><br><span class="line">ps -A|grep camera 查看服务的进程号(例如4712)  </span><br><span class="line">cd proc&#x2F;4712  进入进程号的文件夹  </span><br><span class="line">more maps 查看虚拟内存地址</span><br></pre></td></tr></table></figure><h2 id="SELinux模式开启关闭"><a href="#SELinux模式开启关闭" class="headerlink" title="SELinux模式开启关闭"></a>SELinux模式开启关闭</h2><p>SELinux(Security-Enabled Linux)是美国国家安全局（NSA）对于强制访问控制的实现（安全子系统）</p><p>临时生效方法：</p><ul><li><code>adb shell setenforce 0（临时生效，关闭SELinux模式）</code></li><li><code>adb shell setenforce 1（启用，开启SELinux模式）</code></li></ul><hr><h2 id="adb命令-–-录制手机视频"><a href="#adb命令-–-录制手机视频" class="headerlink" title="adb命令 – 录制手机视频"></a>adb命令 – 录制手机视频</h2><ul><li><code>adb shell screenrecord sdcard/record.mp4</code></li><li><code>1adb pull sdcard/record.mp4 .</code></li></ul><h2 id="adb命令-–-截图"><a href="#adb命令-–-截图" class="headerlink" title="adb命令 – 截图"></a>adb命令 – 截图</h2><ul><li><code>adb shell screencap -p sdcard/1.png</code></li></ul><h2 id="adb命令-–-输入文本"><a href="#adb命令-–-输入文本" class="headerlink" title="adb命令 – 输入文本"></a>adb命令 – 输入文本</h2><p>节省手动输入的时间：</p><ul><li><code>adb shell input text ****</code></li></ul><h2 id="adb命令-–-获取APP路径"><a href="#adb命令-–-获取APP路径" class="headerlink" title="adb命令 – 获取APP路径"></a>adb命令 – 获取APP路径</h2><ul><li><code>adb shell dumpsys SurfaceFlinger 最下方查看正在运行的APK</code></li><li><code>adb shell pm path &quot;com.**&quot; 获取路径</code></li></ul><h2 id="台式机通过WIFI建立adb连接，实现无线连接手机"><a href="#台式机通过WIFI建立adb连接，实现无线连接手机" class="headerlink" title="台式机通过WIFI建立adb连接，实现无线连接手机"></a>台式机通过WIFI建立adb连接，实现无线连接手机</h2><p>通常在需要手机连接外设显示设备的同时需要抓取Log、Dump等操作：</p><ol><li>两台手机连上同一个无线网</li><li>其中一台A关闭开发者选项的USB调试，并且连接到电脑作为热点（无线网卡）</li><li>另一台B连接电脑输入<code>adb tcpip 5555</code>，然后输入<code>adb shell ifconfig wlan0</code>查看B的IP地址</li><li>连接B手机的IP： adb connect IP</li><li>断开B，保持A连接在电脑</li></ol><h2 id="连接DP继续dump-SurfaceFlinger的方法"><a href="#连接DP继续dump-SurfaceFlinger的方法" class="headerlink" title="连接DP继续dump SurfaceFlinger的方法"></a>连接DP继续dump SurfaceFlinger的方法</h2><ol><li>连接DP前启动：<br><code>adb shell dumpsys SurfaceFlinger --file --no-limit</code></li><li>断开DP后再次执行结束Dump：<br><code>adb shell dumpsys SurfaceFlinger --file --no-limit</code></li><li>接过文件pull出来：<br><code>adb pull /data/misc/wmtrace/dumpsys.txt</code></li></ol><hr><h2 id="md5sum命令检测文件"><a href="#md5sum命令检测文件" class="headerlink" title="md5sum命令检测文件"></a>md5sum命令检测文件</h2><p>通过<code>md5sum filename</code>查看文件的<code>md5sum值</code>是否一样</p><h2 id="GSI含义"><a href="#GSI含义" class="headerlink" title="GSI含义"></a>GSI含义</h2><blockquote><p>GSI是替换成google的frameworks等(即system.img, 即google的原生AOSP)<br>system.img包含整个系统，framework、application等，被挂接到”/“目录下，包含系统的所有二进制文件。大概是编译出来的out/target/product/ProductName/system目录的映射</p></blockquote><h3 id="GSI方法"><a href="#GSI方法" class="headerlink" title="GSI方法"></a>GSI方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">常用步骤：</span><br><span class="line">adb reboot bootloader   (fastboot devices检测设备)</span><br><span class="line">fastboot erase system</span><br><span class="line">fastboot -w</span><br><span class="line">fastboot flash system GSI(.img file)</span><br><span class="line">fastboot reboot</span><br></pre></td></tr></table></figure><h2 id="CTS-VTS跑测注意点"><a href="#CTS-VTS跑测注意点" class="headerlink" title="CTS VTS跑测注意点"></a>CTS VTS跑测注意点</h2><ul><li>重跑：<code>run retry --retry 序列号</code></li><li>跑测arm64-v8a还是armeabi-v7a等:<code>run cts-suite -s ... -a arm64-v8 -m ...</code></li></ul><h2 id="linxu命令查找命令"><a href="#linxu命令查找命令" class="headerlink" title="linxu命令查找命令"></a>linxu命令查找命令</h2><h3 id="查找字符串"><a href="#查找字符串" class="headerlink" title="查找字符串"></a>查找字符串</h3><ul><li><code>grep -rn 字符串</code></li><li><code>grep 字符串 -Rin * //查找该目录下包含该字符串的文件</code></li></ul><h3 id="查找文件"><a href="#查找文件" class="headerlink" title="查找文件"></a>查找文件</h3><ul><li><code>find . -iname Test*</code></li></ul><hr><h2 id="Git命令"><a href="#Git命令" class="headerlink" title="Git命令"></a>Git命令</h2><ol><li>回退到某个commitID： <code>git reset --hard commitID</code></li><li>新建一个Commit用于Revert某个分支： <code>git revert commitID</code></li><li>修改commit信息<br><code>git commit --amend --author=&quot;**&quot; --date=&quot;**&quot; 修改作者和日期</code></li><li>添加topic的方法(提交到Gerrit)<br><code>git push origin HEAD:refs/for/BRANCH_Name%topic=&quot;name&quot;</code></li><li>使用新的change ID覆盖原来已经提交的Patch<br><code>git push origin HEAD:refs/changes/99999 (gerrit上的已有Commit的Patch ID)</code></li></ol><h2 id="git-stash暂时储藏"><a href="#git-stash暂时储藏" class="headerlink" title="git stash暂时储藏"></a><strong><code>git stash</code>暂时储藏</strong></h2><p>用于修改的代码暂时保存起来，并且不影响下次的修改(这个比生成本地补丁方便<code>git format-patch -1 commitID</code>)：</p><ul><li><code>git stash save &quot;Remarks&quot;</code> 执行存储，并且添加备注</li><li><code>git stash list</code> 查看储藏列表</li><li><code>git stash show stash@{1}</code> 查看某次储藏的修改</li><li><code>git stash apply stash@{$Num}</code> 应用某次储藏</li><li><code>git stash pop stash@{$Num}</code> 从缓存堆栈中删除某次储藏并且应用到代码中，默认第一个stash</li><li><code>git stash drop stash@{$Num}</code> 从列表删除这个存储</li><li><code>git stash clear</code> 删除所有缓存的stash</li></ul><hr><h2 id="Repo下载项目方法"><a href="#Repo下载项目方法" class="headerlink" title="Repo下载项目方法"></a>Repo下载项目方法</h2><ol><li>下载<code>.repo</code>：<br><code>repo init -u Git远程仓库 -b Branch_Name(分支选择)</code></li><li>Sync项目：<code>repo sync -c -j4</code>（当前分支）</li><li>如果值Sync指定目录，则在指定目录下执行：<code>repo sync -c . -j4</code></li></ol><h2 id="Android常用编译方式"><a href="#Android常用编译方式" class="headerlink" title="Android常用编译方式"></a>Android常用编译方式</h2><ol><li><code>source build/envsetup.sh</code></li><li><code>lunch //选择指定Product</code></li><li><code>make fullbuild -j4</code></li><li>如果只编译部分模块：</li></ol><ul><li>framework模块：<code>make framework -j4</code>，结果生成framework.jar包到/system/framework</li><li>编译<code>kernal/msm</code>使用： <code>make bootimage -j4</code></li><li>指定目录下执行:<code>mm/mmm/mma(依赖编译)</code></li></ul><hr></div><blockquote class="post-copyright"><div class="content"><span class="post-time">Last updated: <time datetime="2020-03-08T10:17:34.591Z" itemprop="dateUpdated">2020-03-08 18:17:34</time></span><br>版权声明:署名-非商用-相同方式共享 4.0 转载请保留原文链接及作者</div><footer><a href="http://wizzie.top"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/img/avatar.jpg" alt="sunwengang"> sunwengang</a></footer></blockquote><div class="page-reward"><a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a></div><div class="post-footer"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/graphics/" rel="tag">graphics</a></li></ul></div></div><nav class="post-nav flex-row flex-justify-between"><div class="waves-block waves-effect prev"><a href="/2019/10/16/2019/191016_adndroid_property_setTypes/" id="post-prev" class="post-nav-link"><div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div><h4 class="title">Android Property</h4></a></div><div class="waves-block waves-effect next"><a href="/2019/09/30/2019/190930_nReal_Sample/" id="post-next" class="post-nav-link"><div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div><h4 class="title">nReal搭建Samepl APK</h4></a></div></nav></article><div id="reward" class="page-modal reward-lay"><a class="close" href="javascript:;"><i class="icon icon-close"></i></a><h3 class="reward-title"><i class="icon icon-quote-left"></i> 奥利给 <i class="icon icon-quote-right"></i></h3><div class="reward-content"><div class="reward-code"><img id="rewardCode" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/img/wechat.png" alt="打赏二维码"></div><label class="reward-toggle"><input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/wechat.png" data-alipay="/img/alipay.jpg"><div class="reward-toggle-ctrol"><span class="reward-toggle-item wechat">微信</span> <span class="reward-toggle-label"></span> <span class="reward-toggle-item alipay">支付宝</span></div></label></div></div></div><footer class="footer"><div class="top"><p><span id="busuanzi_container_site_uv" style="display:none">站点总访客数：<span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" style="display:none">站点总访问量：<span id="busuanzi_value_site_pv"></span></span></p><p><span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span> <span>This blog is licensed under a <a rel="license noopener" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>.</span></p></div><div class="bottom"><p><span>sunwengang &copy; 2019 - 2020</span> <span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span></p></div></footer></main><div class="mask" id="mask"></div><a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a><script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script><script>var BLOG={ROOT:"/",SHARE:!1,REWARD:!0}</script><script src="/js/main.min.js?v=1.7.2"></script><div class="search-panel" id="search-panel"><ul class="search-result" id="search-result"></ul></div><template id="search-tpl"><li class="item"><a href="{path}" class="waves-block waves-effect"><div class="title ellipsis" title="{title}">{title}</div><div class="flex-row flex-middle"><div class="tags ellipsis">{tags}</div><time class="flex-col time">{date}</time></div></a></li></template><script src="/js/search.min.js?v=1.7.2" async></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>!function(){var t,e=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="",clearTimeout(t)):(document.title="(つェ⊂)咦!又好了!",t=setTimeout(function(){document.title=e},2e3))})}()</script><script>!function(t){function n(){for(var n=0;n<e.length;n++)i=e[n],0<=(o=i.getBoundingClientRect()).bottom&&0<=o.left&&o.top<=(t.innerHeight||document.documentElement.clientHeight)&&function(){var t,i,o,r,c=e[n];t=c,i=function(){e=e.filter(function(t){return c!==t})},o=new Image,r=t.getAttribute("data-original"),o.onload=function(){t.src=r,i&&i()},o.src=r}();var i,o}var e=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));n(),t.addEventListener("scroll",function(){var e,i;e=n,i=t,clearTimeout(e.tId),e.tId=setTimeout(function(){e.call(i)},500)})}(this)</script><script>window.addEventListener("load",function(){var a=/\.(gif|jpg|jpeg|tiff|png)$/i,e=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(t){var r=t.parentNode;"A"===r.tagName&&(r.href.match(a)||r.href.match(e))&&(r.href=t.dataset.original)})})</script></body></html><!-- rebuild by neat -->